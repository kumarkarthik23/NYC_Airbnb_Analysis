t_test_result_1 <- t.test(manhattan_prices, brooklyn_prices)
# Print results
t_test_result_1
# Subset data for Entire and Private Home Prices :
entire_home_prices <- clean_airbnb %>%
filter(room_type == "Entire home/apt") %>%
pull(price)
private_room_prices <- clean_airbnb %>%
filter(room_type == "Private room") %>%
pull(price)
# Box plot for Private and Entire Home Prices:
boxplot(list("Entire Home/Apt" = entire_home_prices, "Private Room" = private_room_prices),
main = "Price Distribution for Entire Home/Apt and Private Room",
xlab = "Room Type",
ylab = "Price")
# Two-sample t-test for Entire and Private Home :
t_test_result_2 <- t.test(entire_home_prices, private_room_prices)
# Print results
t_test_result_2
# Pearson correlation coefficient
correlation_result <- cor(clean_airbnb$number_of_reviews, clean_airbnb$availability_365)
# Scatter plot for Reviews vs Availability
plot(clean_airbnb$number_of_reviews, clean_airbnb$availability_365,
main = "Scatter Plot of Reviews vs. Availability",
xlab = "Number of Reviews",
ylab = "Availability")
# Print results
cat("Correlation Coefficient:", correlation_result, "\n")
# Set your specified benchmark price
benchmark_price <- 150  # Change this to your desired benchmark
# Histogram for Airbnb Prices:
hist(clean_airbnb$price,
main = "Distribution of Airbnb Listing Prices",
xlab = "Price",
col = "lightblue")
# Add a vertical line for the benchmark price
abline(v = benchmark_price, col = "red", lwd = 2)
# Perform one-sample t-test
one_sample_test <- t.test(clean_airbnb$price, mu = benchmark_price)
# Print results
one_sample_test
# Scatterplot
plot(clean_airbnb$number_of_reviews, clean_airbnb$price,
main = "Scatter Plot of Number of Reviews vs. Price",
xlab = "Number of Reviews", ylab = "Price")
# Correlation Coefficient
correlation_result_1 <- cor(clean_airbnb$number_of_reviews, clean_airbnb$price)
cat("Correlation Coefficient:", correlation_result_1, "\n")
# Linear Regression
linear_model_1 <- lm(price ~ number_of_reviews, data = clean_airbnb)
summary(linear_model_1)
# Scatterplot
plot(clean_airbnb$availability_365, clean_airbnb$price,
main = "Scatter Plot of Availability vs. Price",
xlab = "Availability", ylab = "Price")
# Correlation Coefficient
correlation_result_2 <- cor(clean_airbnb$availability_365, clean_airbnb$price)
cat("Correlation Coefficient:", correlation_result_2, "\n")
# Linear Regression
linear_model_2 <- lm(price ~ availability_365, data = clean_airbnb)
summary(linear_model_2)
# Boxplot
boxplot(price ~ room_type, data = clean_airbnb,
main = "Boxplot of Price by Room Type",
xlab = "Room Type", ylab = "Price")
# ANOVA Test
anova_result <- aov(price ~ room_type, data = clean_airbnb)
summary(anova_result)
# Scatterplot
plot(clean_airbnb$number_of_reviews, clean_airbnb$price,
main = "Scatter Plot of Number of Reviews vs. Price",
xlab = "Number of Reviews", ylab = "Price")
# Correlation Coefficient
correlation_result_1 <- cor(clean_airbnb$number_of_reviews, clean_airbnb$price)
cat("Correlation Coefficient:", correlation_result_1, "\n")
# Linear Regression
linear_model_1 <- lm(price ~ number_of_reviews, data = clean_airbnb)
summary(linear_model_1)
# Scatterplot
plot(clean_airbnb$availability_365, clean_airbnb$price,
main = "Scatter Plot of Availability vs. Price",
xlab = "Availability", ylab = "Price")
# Correlation Coefficient
correlation_result_2 <- cor(clean_airbnb$availability_365, clean_airbnb$price)
cat("Correlation Coefficient:", correlation_result_2, "\n")
# Linear Regression
linear_model_2 <- lm(price ~ availability_365, data = clean_airbnb)
summary(linear_model_2)
# Boxplot
boxplot(price ~ room_type, data = clean_airbnb,
main = "Boxplot of Price by Room Type",
xlab = "Room Type", ylab = "Price")
# ANOVA Test
anova_result <- aov(price ~ room_type, data = clean_airbnb)
summary(anova_result)
# Descriptive Statistics for the Entire Data set
summary(clean_airbnb)
# Bar plot for 'neighborhood_group'
barplot(table(clean_airbnb$neighbourhood_group), main = "Neighbourhood Distribution", col = "skyblue", border = "black",
xlab = "Neighbourhood Group", ylab = "Count", cex.names = 0.8)
# Bar plot for 'room_type'
barplot(table(clean_airbnb$room_type), main = "Room Type Distribution", col = "salmon", border = "black",
xlab = "Room Type", ylab = "Count", cex.names = 0.8)
# Histogram for 'minimum_nights'
hist(clean_airbnb$minimum_nights, main = "Histogram of Minimum Nights", xlab = "Minimum Nights", col = "lightgreen", border = "black")
# Histogram for price
hist(clean_airbnb$price, main = "Histogram of Price", xlab = "Price", col = "skyblue", border = "black")
setwd("~/Documents/NYC Airbnb Listings Analysis")
cat("\014")                      # Clear console
rm(list = ls())                  # Clear global environment
# If there are open plot devices, close them (RStudio-safe)
try(dev.off(dev.list()["RStudioGD"]), silent = TRUE)
# Avoid scientific notation in printed output
options(scipen = 100)
library(janitor)     # For clean_names and data cleaning helpers
library(tidyverse)   # For piping (%>%), dplyr verbs, etc.
# Path to the CSV file â€“ adjust if needed
data_path <- "AB_NYC_2019.csv"
# Read the raw Airbnb dataset
airbnb_raw <- read.csv(data_path, stringsAsFactors = FALSE)
# Quick structure check of raw data (optional)
str(airbnb_raw)
airbnb_clean <- airbnb_raw %>%
# 3.1 Standardize column names to snake_case
clean_names() %>%
# 3.2 Remove rows with any missing values
na.omit() %>%
# 3.3 Filter out clearly invalid rows
#      - price = 0 (non-sensical for a listing)
#      - availability_365 = 0 (never available)
#      - minimum_nights > 365 (likely unrealistic)
filter(
price > 0,
availability_365 > 0,
minimum_nights <= 365
)
# 3.4 Remove outliers in price using Â± 2 standard deviations
mean_price <- mean(airbnb_clean$price)
sd_price   <- sd(airbnb_clean$price)
price_threshold <- 2 * sd_price
airbnb_clean <- airbnb_clean %>%
filter(abs(price - mean_price) <= price_threshold)
# 3.5 Convert types:
#     - last_review: character -> Date
#     - room_type:   character -> factor
#     - neighbourhood_group: character -> factor
airbnb_clean <- airbnb_clean %>%
mutate(
last_review = as.Date(last_review),
room_type   = as.factor(room_type),
neighbourhood_group = as.factor(neighbourhood_group)
)
# Summary of cleaned dataset
cat("Number of rows AFTER cleaning: ", nrow(airbnb_clean), "\n")
summary(airbnb_clean)
# Descriptive stats for key numeric variables
summary(airbnb_clean$minimum_nights)
summary(airbnb_clean$price)
# Bar plot: Neighbourhood group distribution
barplot(
table(airbnb_clean$neighbourhood_group),
main = "Neighbourhood Group Distribution",
col = "skyblue",
border = "black",
xlab = "Neighbourhood Group",
ylab = "Count",
cex.names = 0.8
)
# Bar plot: Room type distribution
barplot(
table(airbnb_clean$room_type),
main = "Room Type Distribution",
col = "salmon",
border = "black",
xlab = "Room Type",
ylab = "Count",
cex.names = 0.8
)
# Histogram: Minimum nights
hist(
airbnb_clean$minimum_nights,
main = "Histogram of Minimum Nights",
xlab = "Minimum Nights",
col = "lightgreen",
border = "black"
)
# Histogram: Price
hist(
airbnb_clean$price,
main = "Histogram of Price",
xlab = "Price (USD)",
col = "skyblue",
border = "black"
)
# Boxplot: Price
boxplot(
airbnb_clean$price,
main = "Boxplot of Price",
ylab = "Price (USD)",
col = "skyblue",
border = "black"
)
# Scatter plot: Longitude vs Latitude (all listings)
plot(
airbnb_clean$longitude,
airbnb_clean$latitude,
main = "Listing Locations in NYC",
xlab = "Longitude",
ylab = "Latitude",
col  = "skyblue",
pch  = 20
)
# Subset data by room type
entire_home  <- subset(airbnb_clean, room_type == "Entire home/apt")
private_room <- subset(airbnb_clean, room_type == "Private room")
shared_room  <- subset(airbnb_clean, room_type == "Shared room")
# Helper function to plot histogram & boxplot of price
plot_price_distribution <- function(data, title_prefix, col_hist, col_box) {
hist(
data$price,
main = paste("Histogram of Price -", title_prefix),
xlab = "Price (USD)",
col = col_hist,
border = "black"
)
boxplot(
data$price,
main = paste("Boxplot of Price -", title_prefix),
ylab = "Price (USD)",
col = col_box,
border = "black"
)
}
########## 5.1 Entire Home/Apt ##########
plot_price_distribution(entire_home, "Entire Home/Apt", "salmon", "salmon")
plot(
entire_home$longitude,
entire_home$latitude,
main = "Locations - Entire Home/Apt",
xlab = "Longitude",
ylab = "Latitude",
col  = "salmon",
pch  = 20
)
########## 5.2 Private Room ##########
plot_price_distribution(private_room, "Private Room", "lightgreen", "lightgreen")
plot(
private_room$longitude,
private_room$latitude,
main = "Locations - Private Room",
xlab = "Longitude",
ylab = "Latitude",
col  = "green",
pch  = 20
)
########## 5.3 Shared Room ##########
plot_price_distribution(shared_room, "Shared Room", "orange", "orange")
plot(
shared_room$longitude,
shared_room$latitude,
main = "Locations - Shared Room",
xlab = "Longitude",
ylab = "Latitude",
col  = "orange",
pch  = 20
)
manhattan_prices <- airbnb_clean %>%
filter(neighbourhood_group == "Manhattan") %>%
pull(price)
brooklyn_prices <- airbnb_clean %>%
filter(neighbourhood_group == "Brooklyn") %>%
pull(price)
# Boxplot for visual comparison
boxplot(
list(Manhattan = manhattan_prices, Brooklyn = brooklyn_prices),
main = "Price Distribution: Manhattan vs Brooklyn",
xlab = "Neighbourhood Group",
ylab = "Price (USD)"
)
# Welch two-sample t-test
t_test_manhattan_brooklyn <- t.test(manhattan_prices, brooklyn_prices)
# Print results
cat("\n--- Question 1: Manhattan vs Brooklyn Prices ---\n")
print(t_test_manhattan_brooklyn)
entire_home_prices <- entire_home$price
private_room_prices <- private_room$price
# Boxplot comparison
boxplot(
list("Entire Home/Apt" = entire_home_prices,
"Private Room"    = private_room_prices),
main = "Price Distribution: Entire Home/Apt vs Private Room",
xlab = "Room Type",
ylab = "Price (USD)"
)
# Welch two-sample t-test
t_test_entire_vs_private <- t.test(entire_home_prices, private_room_prices)
cat("\n--- Question 2: Entire Home/Apt vs Private Room Prices ---\n")
print(t_test_entire_vs_private)
# Compute Pearson correlation
cor_reviews_availability <- cor(
airbnb_clean$number_of_reviews,
airbnb_clean$availability_365
)
# Scatter plot
plot(
airbnb_clean$number_of_reviews,
airbnb_clean$availability_365,
main = "Number of Reviews vs Availability (365 days)",
xlab = "Number of Reviews",
ylab = "Availability (days)"
)
cat("\n--- Question 3: Reviews vs Availability ---\n")
cat("Correlation coefficient:", cor_reviews_availability, "\n")
benchmark_price <- 150  # You can change this benchmark value
# Histogram with benchmark line
hist(
airbnb_clean$price,
main = "Distribution of Airbnb Prices (with Benchmark)",
xlab = "Price (USD)",
col  = "lightblue",
border = "black"
)
abline(v = benchmark_price, col = "red", lwd = 2)
# One-sample t-test
t_test_vs_benchmark <- t.test(airbnb_clean$price, mu = benchmark_price)
cat("\n--- Question 4: Price vs Benchmark (", benchmark_price, ") ---\n", sep = "")
print(t_test_vs_benchmark)
# Scatter plot: reviews vs price
plot(
airbnb_clean$number_of_reviews,
airbnb_clean$price,
main = "Number of Reviews vs Price",
xlab = "Number of Reviews",
ylab = "Price (USD)"
)
# Pearson correlation
cor_reviews_price <- cor(
airbnb_clean$number_of_reviews,
airbnb_clean$price
)
cat("\n--- Question 5: Reviews vs Price ---\n")
cat("Correlation coefficient:", cor_reviews_price, "\n")
# Linear regression model
lm_reviews_price <- lm(price ~ number_of_reviews, data = airbnb_clean)
summary(lm_reviews_price)
# Scatter plot: availability vs price
plot(
airbnb_clean$availability_365,
airbnb_clean$price,
main = "Availability (365 days) vs Price",
xlab = "Availability (days per year)",
ylab = "Price (USD)"
)
# Pearson correlation
cor_availability_price <- cor(
airbnb_clean$availability_365,
airbnb_clean$price
)
cat("\n--- Question 6: Availability vs Price ---\n")
cat("Correlation coefficient:", cor_availability_price, "\n")
# Linear regression model
lm_availability_price <- lm(price ~ availability_365, data = airbnb_clean)
summary(lm_availability_price)
# Boxplot: price by room type
boxplot(
price ~ room_type,
data = airbnb_clean,
main = "Price by Room Type",
xlab = "Room Type",
ylab = "Price (USD)"
)
# ANOVA model
anova_room_type <- aov(price ~ room_type, data = airbnb_clean)
cat("\n--- Question 7: ANOVA - Price by Room Type ---\n")
summary(anova_room_type)
############################################################
# Create images folder if it doesn't exist
if(!dir.exists("images")) {
dir.create("images")
}
# Helper function to save plots
save_plot <- function(filename, plot_code, width=7, height=5) {
png(file.path("images", filename), width=width, height=height, units="in", res=120)
plot_code
dev.off()
}
############################################################
# 1. Neighborhood Group Distribution
############################################################
save_plot("neighbourhood_distribution.png", {
barplot(table(airbnb_clean$neighbourhood_group),
main = "Neighbourhood Group Distribution",
col = "skyblue", border = "black",
xlab = "Neighbourhood Group", ylab = "Count")
})
############################################################
# 2. Room Type Distribution
############################################################
save_plot("room_type_distribution.png", {
barplot(table(airbnb_clean$room_type),
main = "Room Type Distribution",
col = "salmon", border = "black",
xlab = "Room Type", ylab = "Count")
})
############################################################
# 3. Price Histogram
############################################################
save_plot("price_histogram.png", {
hist(airbnb_clean$price,
main = "Histogram of Price",
xlab = "Price", col = "skyblue", border = "black")
})
############################################################
# 4. Price Boxplot
############################################################
save_plot("price_boxplot.png", {
boxplot(airbnb_clean$price,
main = "Boxplot of Price",
ylab = "Price", col = "skyblue", border = "black")
})
############################################################
# 5. Location Scatterplot
############################################################
save_plot("location_scatter.png", {
plot(airbnb_clean$longitude, airbnb_clean$latitude,
main = "Listing Locations in NYC",
xlab = "Longitude", ylab = "Latitude",
col = "skyblue", pch = 20)
})
############################################################
# 6. Entire Home / Apt Price Histogram
############################################################
save_plot("entire_home_hist.png", {
hist(entire_home$price, main = "Price: Entire Home/Apt",
xlab = "Price", col = "salmon", border = "black")
})
############################################################
# 7. Private Room Boxplot
############################################################
save_plot("private_room_box.png", {
boxplot(private_room$price, main = "Price: Private Room",
ylab = "Price", col = "lightgreen", border = "black")
})
############################################################
# 8. Shared Room Location Scatter
############################################################
save_plot("shared_room_scatter.png", {
plot(shared_room$longitude, shared_room$latitude,
main = "Shared Room Locations",
xlab = "Longitude", ylab = "Latitude",
col = "orange", pch = 20)
})
############################################################
# 9. Manhattan vs Brooklyn Price Boxplot
############################################################
save_plot("manhattan_brooklyn_box.png", {
boxplot(list(Manhattan = manhattan_prices, Brooklyn = brooklyn_prices),
main = "Manhattan vs Brooklyn Prices",
xlab = "Neighbourhood Group", ylab = "Price")
})
############################################################
# 10. Entire Home vs Private Room Boxplot
############################################################
save_plot("entire_vs_private_box.png", {
boxplot(list("Entire Home/Apt" = entire_home_prices,
"Private Room" = private_room_prices),
main = "Entire Home/Apt vs Private Room Prices",
xlab = "Room Type", ylab = "Price")
})
############################################################
# 11. Reviews vs Availability Scatter
############################################################
save_plot("reviews_availability_scatter.png", {
plot(airbnb_clean$number_of_reviews, airbnb_clean$availability_365,
main = "Reviews vs Availability", xlab = "Reviews",
ylab = "Availability (365 days)")
})
############################################################
# 12. Benchmark Price Histogram
############################################################
save_plot("benchmark_hist.png", {
hist(airbnb_clean$price,
main = "Price Distribution (with Benchmark)",
xlab = "Price", col = "lightblue", border = "black")
abline(v = benchmark_price, col = "red", lwd = 2)
})
############################################################
# 13. Reviews vs Price Scatter
############################################################
save_plot("reviews_price_scatter.png", {
plot(airbnb_clean$number_of_reviews, airbnb_clean$price,
main = "Reviews vs Price",
xlab = "Number of Reviews", ylab = "Price")
})
############################################################
# 14. Availability vs Price Scatter
############################################################
save_plot("availability_price_scatter.png", {
plot(airbnb_clean$availability_365, airbnb_clean$price,
main = "Availability vs Price",
xlab = "Availability", ylab = "Price")
})
############################################################
# 15. Room Type ANOVA Boxplot
############################################################
save_plot("room_type_anova.png", {
boxplot(price ~ room_type, data = airbnb_clean,
main = "Price by Room Type",
xlab = "Room Type", ylab = "Price")
})
############################################################
cat("All plots saved to the /images folder successfully! ðŸŽ‰\n")
